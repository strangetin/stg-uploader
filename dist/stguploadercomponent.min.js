var STGUploader=function(e){"use strict";function t(e){return"[object Array]"===F.call(e)}function i(e){return void 0===e}function r(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function n(e){return"[object ArrayBuffer]"===F.call(e)}function o(e){return"undefined"!=typeof FormData&&e instanceof FormData}function a(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer}function s(e){return"string"==typeof e}function d(e){return"number"==typeof e}function l(e){return null!==e&&"object"==typeof e}function u(e){if("[object Object]"!==F.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function c(e){return"[object Date]"===F.call(e)}function f(e){return"[object File]"===F.call(e)}function p(e){return"[object Blob]"===F.call(e)}function h(e){return"[object Function]"===F.call(e)}function m(e){return l(e)&&h(e.pipe)}function g(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams}function v(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function y(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)}function w(e,i){if(null!==e&&void 0!==e)if("object"!=typeof e&&(e=[e]),t(e))for(var r=0,n=e.length;r<n;r++)i.call(null,e[r],r,e);else for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&i.call(null,e[o],o,e)}function b(){function e(e,i){u(r[i])&&u(e)?r[i]=b(r[i],e):u(e)?r[i]=b({},e):t(e)?r[i]=e.slice():r[i]=e}for(var i=arguments,r={},n=0,o=arguments.length;n<o;n++)w(i[n],e);return r}function x(e,t,i){return w(t,function(t,r){e[r]=i&&"function"==typeof t?O(t,i):t}),e}function C(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}function S(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function _(){this.handlers=[]}function I(e,t){!L.isUndefined(e)&&L.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function E(e){e.cancelToken&&e.cancelToken.throwIfRequested()}function A(e){this.defaults=e,this.interceptors={request:new V,response:new V}}function U(e){this.message=e}function N(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var i=this;e(function(e){i.reason||(i.reason=new oe(e),t(i.reason))})}function j(e){var t=new ne(e),i=O(ne.prototype.request,t);return L.extend(i,ne.prototype,t),L.extend(i,t),i}function k(e){return function(e,t){return P(e,t)}}function P(e,t){var i=me?t.media||"default":e,r=ge[i]||(ge[i]={ids:new Set,styles:[]});if(!r.ids.has(e)){r.ids.add(e);var n=t.source;if(t.map&&(n+="\n/*# sourceURL="+t.map.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t.map))))+" */"),r.element||(r.element=document.createElement("style"),r.element.type="text/css",t.media&&r.element.setAttribute("media",t.media),void 0===fe&&(fe=document.head||document.getElementsByTagName("head")[0]),fe.appendChild(r.element)),"styleSheet"in r.element)r.styles.push(n),r.element.styleSheet.cssText=r.styles.filter(Boolean).join("\n");else{var o=r.ids.size-1,a=document.createTextNode(n),s=r.element.childNodes;s[o]&&r.element.removeChild(s[o]),s.length?r.element.insertBefore(a,s[o]):r.element.appendChild(a)}}}function R(e){R.installed||(R.installed=!0,e.component("stg-uploader",ve))}var O=function(e,t){return function(){for(var i=arguments,r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=i[n];return e.apply(t,r)}},F=Object.prototype.toString,L={isArray:t,isArrayBuffer:n,isBuffer:r,isFormData:o,isArrayBufferView:a,isString:s,isNumber:d,isObject:l,isPlainObject:u,isUndefined:i,isDate:c,isFile:f,isBlob:p,isFunction:h,isStream:m,isURLSearchParams:g,isStandardBrowserEnv:y,forEach:w,merge:b,extend:x,trim:v,stripBOM:C},T=function(e,t,i){if(!t)return e;var r;if(i)r=i(t);else if(L.isURLSearchParams(t))r=t.toString();else{var n=[];L.forEach(t,function(e,t){null!==e&&void 0!==e&&(L.isArray(e)?t+="[]":e=[e],L.forEach(e,function(e){L.isDate(e)?e=e.toISOString():L.isObject(e)&&(e=JSON.stringify(e)),n.push(S(t)+"="+S(e))}))}),r=n.join("&")}if(r){var o=e.indexOf("#");-1!==o&&(e=e.slice(0,o)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e};_.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},_.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},_.prototype.forEach=function(e){L.forEach(this.handlers,function(t){null!==t&&e(t)})};var V=_,D=function(e,t,i){return L.forEach(i,function(i){e=i(e,t)}),e},$=function(e){return!(!e||!e.__CANCEL__)},B=function(e,t){L.forEach(e,function(i,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=i,delete e[r])})},q=function(e,t,i,r,n){return e.config=t,i&&(e.code=i),e.request=r,e.response=n,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e},M=function(e,t,i,r,n){var o=new Error(e);return q(o,t,i,r,n)},z=function(e,t,i){var r=i.config.validateStatus;i.status&&r&&!r(i.status)?t(M("Request failed with status code "+i.status,i.config,null,i.request,i)):e(i)},H=L.isStandardBrowserEnv()?function(){return{write:function(e,t,i,r,n,o){var a=[];a.push(e+"="+encodeURIComponent(t)),L.isNumber(i)&&a.push("expires="+new Date(i).toGMTString()),L.isString(r)&&a.push("path="+r),L.isString(n)&&a.push("domain="+n),!0===o&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),X=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)},W=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e},J=function(e,t){return e&&!X(t)?W(e,t):t},G=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"],K=function(e){var t,i,r,n={};return e?(L.forEach(e.split("\n"),function(e){if(r=e.indexOf(":"),t=L.trim(e.substr(0,r)).toLowerCase(),i=L.trim(e.substr(r+1)),t){if(n[t]&&G.indexOf(t)>=0)return;n[t]="set-cookie"===t?(n[t]?n[t]:[]).concat([i]):n[t]?n[t]+", "+i:i}}),n):n},Q=L.isStandardBrowserEnv()?function(){function e(e){var t=e;return i&&(r.setAttribute("href",t),t=r.href),r.setAttribute("href",t),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}var t,i=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");return t=e(window.location.href),function(i){var r=L.isString(i)?e(i):i;return r.protocol===t.protocol&&r.host===t.host}}():function(){return function(){return!0}}(),Y=function(e){return new Promise(function(t,i){var r=e.data,n=e.headers;L.isFormData(r)&&delete n["Content-Type"];var o=new XMLHttpRequest;if(e.auth){var a=e.auth.username||"",s=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";n.Authorization="Basic "+btoa(a+":"+s)}var d=J(e.baseURL,e.url);if(o.open(e.method.toUpperCase(),T(d,e.params,e.paramsSerializer),!0),o.timeout=e.timeout,o.onreadystatechange=function(){if(o&&4===o.readyState&&(0!==o.status||o.responseURL&&0===o.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in o?K(o.getAllResponseHeaders()):null,n={data:e.responseType&&"text"!==e.responseType?o.response:o.responseText,status:o.status,statusText:o.statusText,headers:r,config:e,request:o};z(t,i,n),o=null}},o.onabort=function(){o&&(i(M("Request aborted",e,"ECONNABORTED",o)),o=null)},o.onerror=function(){i(M("Network Error",e,null,o)),o=null},o.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),i(M(t,e,"ECONNABORTED",o)),o=null},L.isStandardBrowserEnv()){var l=(e.withCredentials||Q(d))&&e.xsrfCookieName?H.read(e.xsrfCookieName):void 0;l&&(n[e.xsrfHeaderName]=l)}if("setRequestHeader"in o&&L.forEach(n,function(e,t){void 0===r&&"content-type"===t.toLowerCase()?delete n[t]:o.setRequestHeader(t,e)}),L.isUndefined(e.withCredentials)||(o.withCredentials=!!e.withCredentials),e.responseType)try{o.responseType=e.responseType}catch(t){if("json"!==e.responseType)throw t}"function"==typeof e.onDownloadProgress&&o.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&o.upload&&o.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){o&&(o.abort(),i(e),o=null)}),r||(r=null),o.send(r)})},Z={"Content-Type":"application/x-www-form-urlencoded"},ee={adapter:function(){var e;return"undefined"!=typeof XMLHttpRequest?e=Y:"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(e=Y),e}(),transformRequest:[function(e,t){return B(t,"Accept"),B(t,"Content-Type"),L.isFormData(e)||L.isArrayBuffer(e)||L.isBuffer(e)||L.isStream(e)||L.isFile(e)||L.isBlob(e)?e:L.isArrayBufferView(e)?e.buffer:L.isURLSearchParams(e)?(I(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):L.isObject(e)?(I(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300}};ee.headers={common:{Accept:"application/json, text/plain, */*"}},L.forEach(["delete","get","head"],function(e){ee.headers[e]={}}),L.forEach(["post","put","patch"],function(e){ee.headers[e]=L.merge(Z)});var te=ee,ie=function(e){return E(e),e.headers=e.headers||{},e.data=D(e.data,e.headers,e.transformRequest),e.headers=L.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),L.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]}),(e.adapter||te.adapter)(e).then(function(t){return E(e),t.data=D(t.data,t.headers,e.transformResponse),t},function(t){return $(t)||(E(e),t&&t.response&&(t.response.data=D(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})},re=function(e,t){function i(e,t){return L.isPlainObject(e)&&L.isPlainObject(t)?L.merge(e,t):L.isPlainObject(t)?L.merge({},t):L.isArray(t)?t.slice():t}function r(r){L.isUndefined(t[r])?L.isUndefined(e[r])||(n[r]=i(void 0,e[r])):n[r]=i(e[r],t[r])}t=t||{};var n={},o=["url","method","data"],a=["headers","auth","proxy","params"],s=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],d=["validateStatus"];L.forEach(o,function(e){L.isUndefined(t[e])||(n[e]=i(void 0,t[e]))}),L.forEach(a,r),L.forEach(s,function(r){L.isUndefined(t[r])?L.isUndefined(e[r])||(n[r]=i(void 0,e[r])):n[r]=i(void 0,t[r])}),L.forEach(d,function(r){r in t?n[r]=i(e[r],t[r]):r in e&&(n[r]=i(void 0,e[r]))});var l=o.concat(a).concat(s).concat(d),u=Object.keys(e).concat(Object.keys(t)).filter(function(e){return-1===l.indexOf(e)});return L.forEach(u,r),n};A.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=re(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=[ie,void 0],i=Promise.resolve(e);for(this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});t.length;)i=i.then(t.shift(),t.shift());return i},A.prototype.getUri=function(e){return e=re(this.defaults,e),T(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},L.forEach(["delete","get","head","options"],function(e){A.prototype[e]=function(t,i){return this.request(re(i||{},{method:e,url:t,data:(i||{}).data}))}}),L.forEach(["post","put","patch"],function(e){A.prototype[e]=function(t,i,r){return this.request(re(r||{},{method:e,url:t,data:i}))}});var ne=A;U.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},U.prototype.__CANCEL__=!0;var oe=U;N.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},N.source=function(){var e;return{token:new N(function(t){e=t}),cancel:e}};var ae=N,se=function(e){return function(t){return e.apply(null,t)}},de=function(e){return"object"==typeof e&&!0===e.isAxiosError},le=j(te);le.Axios=ne,le.create=function(e){return j(re(le.defaults,e))},le.Cancel=oe,le.CancelToken=ae,le.isCancel=$,le.all=function(e){return Promise.all(e)},le.spread=se,le.isAxiosError=de;var ue=le,ce=le;ue.default=ce;var fe,pe=ue,he={props:{settings:{type:Object,required:!0,validator:function(e){var t=!0,i=["uploadURL","headers"];for(var r of i)if(!e.hasOwnProperty(r)){t=!1;break}return t||console.log("%c%s","color: red; font: 0.7rem/1 Tahoma;","(STG-UPLOADER): Неверный формат настроек"),t}},containerClass:{type:String,required:!1},type:{type:String,required:!0,validator:function(e){return-1!==["image","images","video"].indexOf(e)}},images:{type:Array[String],required:!1},image:{type:String,required:!1},video:{type:String,required:!1},actionText:{type:String,required:!1}},mounted:function(){var e=this;if("image"===this.type&&(this.image&&(this.storedImagePath=this.image),this.dropArea=this.$refs.dropAreaImage),"images"===this.type){if(Array.isArray(this.images)&&this.images.length>0)for(var t of this.images)this.storedImages.push({id:this.storedImages.length+1,name:this.getFileNameFromLink(t),path:t,uploaded:!0});this.dropArea=this.$refs.dropAreaImages}"video"===this.type&&(this.storedVideo=this.video,this.dropArea=this.$refs.dropAreaVideo),this.dropArea.addEventListener("drop",this.handleDrop,!1),["dragenter","dragover","dragleave","drop"].forEach(function(t){e.dropArea.addEventListener(t,e.preventDefaultEvents,!1)}),["dragenter","dragover"].forEach(function(t){e.dropArea.addEventListener(t,e.highlight,!1)}),["dragleave","drop"].forEach(function(t){e.dropArea.addEventListener(t,e.unHighlight,!1)})},data:function(){return{storedImages:[],storedImagePath:null,storedImageFile:null,storedImageName:null,imageUploading:!1,videoUploading:!1,storedVideoPath:null,storedVideoName:null,dropArea:null,videoUploaded:!1,availableImagesMime:["image/apng","image/bmp","image/gif","image/x-icon","image/jpeg","image/png","image/svg+xml","image/tiff","image/webp","image/pjpeg"],availableVideosMime:["video/mp4","video/ogg","video/quicktime","video/webm"],videoIcon:null}},computed:{showSingleImagePreview:function(){return!this.imageUploading&&this.storedImageName&&this.storedImagePath},showSingleVideoPreview:function(){return!this.videoUploading&&this.storedVideoName&&this.storedVideoPath},computedContainerClass:function(){return this.containerClass||null},computedActionText:function(){return this.actionText||"Drag&Drop your files"}},methods:{removeImageFromList:function(e){this.storedImages=this.storedImages.filter(function(t){return t.id!==e.id}),this.$emit("fileDeleted",e.path)},removeSingleFile:function(e){switch(e){case"image":this.$emit("fileDeleted",this.storedImagePath),this.resetSingleImage();break;case"video":this.$emit("fileDeleted",this.storedVideoPath),this.resetSingleVideo()}},getFileNameFromLink:function(e){if(e){var t=e.toString().match(/.*\/(.+?)\./);if(t&&t.length>1)return t[1]}return""},preventDefaultEvents:function(e){e.preventDefault(),e.stopPropagation()},handleDrop:function(e){var t=e.dataTransfer.files;if(t.length>0)switch(this.type){case"image":this.imageUploading?alert("Wait... Uploading is progress"):this.handleSingleImage(t);break;case"images":this.storedImages.filter(function(e){return!e.uploaded}).length>0?alert("Wait... Uploading is progress"):this.handleUploadMultipleFiles(t);break;case"video":this.videoUploading?alert("Wait... Uploading is progress"):this.handleSingleVideo(t)}},highlight:function(){this.dropArea.classList.add("highlight")},unHighlight:function(){this.dropArea.classList.remove("highlight")},openUploadFileDialog:function(e,t){var i=["remove-item"];for(var r of i)if(e.target.className.replace(/[\n\t]/g," ").indexOf(r)>-1)return;switch(t){case"image":this.$refs.dropAreaImageInput.click();break;case"images":this.$refs.dropAreaImagesInput.click();break;case"video":this.$refs.dropAreaVideoInput.click()}},handleUploadMultipleFiles:function(e){void 0===e&&(e=null);var t=this.$refs.dropAreaImagesInput.files;if(e&&(t=e),t.length>0)for(var i of t){var r={id:this.storedImages.length+1,name:i.name,uploaded:!1,path:null};this.storedImages.push(r),this.uploadFile(i,"images",r)}},handleUploadFile:function(e){switch(e){case"image":this.handleSingleImage();break;case"video":this.handleSingleVideo()}},handleSingleImage:function(e){void 0===e&&(e=null);var t=this.$refs.dropAreaImageInput.files;if(e&&(t=e),t[0]){var i=t[0];-1!==this.availableImagesMime.indexOf(i.type)?(this.imageUploading=!0,this.uploadFile(i,"image")):this.$emit("typeError","Неверный вормат файла изображения. Допустимые форматы ("+this.availableImagesMime.join(", ")+")")}},handleSingleVideo:function(e){void 0===e&&(e=null);var t=this.$refs.dropAreaVideoInput.files;if(e&&(t=e),t[0]){var i=t[0];-1!==this.availableVideosMime.indexOf(i.type)?(this.videoUploading=!0,this.uploadFile(t[0],"video")):this.$emit("typeError","Неверный формат файла видео. Допустимые форматы ("+this.availableVideosMime.join(", ")+")")}},showImageName:function(e){var t=this.settings.hasOwnProperty("showFileName")&&this.settings.showFileName,i=!1;switch(e){case"image":i=!!this.storedImagePath;break;case"images":i=this.storedImages.length>0;break;case"video":i=!!this.storedVideo}return t&&i},isPathExist:function(e){switch(e){case"image":return!!this.storedImagePath;case"video":return!!this.storedVideo;default:return!1}},setSingleImage:function(e,t){this.storedImagePath=e,this.storedImageName=t,this.imageUploading=!1,this.$emit("uploadSuccess",e)},resetSingleImage:function(e){void 0===e&&(e=null),e&&this.$emit("uploadError",e),this.storedImagePath=null,this.storedImageName=null,this.imageUploading=!1},setSingleImageFromList:function(e,t,i){this.storedImages=this.storedImages.filter(function(e){return e.id!==i.id}),i.path=e,i.name=t,i.uploaded=!0,this.storedImages.push(i),this.$emit("uploadSuccess",e)},resetSingleImageFromList:function(e,t){void 0===e&&(e=null),e&&this.$emit("uploadError",e),this.storedImages=this.storedImages.filter(function(e){return e.id!==t})},setSingleVideo:function(e,t){this.storedVideoPath=e,this.storedVideoName=t,this.videoUploading=!1,this.$emit("uploadSuccess",e)},resetSingleVideo:function(e){void 0===e&&(e=null),e&&this.$emit("uploadError",e),this.storedVideoPath=null,this.storedVideoName=null,this.videoUploading=!1},uploadFile:function(e,t,i){var r=this;void 0===i&&(i=null),this.storedImageName=null,this.storedImagePath=null;var n=this.settings.uploadURL,o=new FormData;o.append("file",e);var a={};a=Object.assign({},a,this.headers),pe.post(n,o,{headers:a}).then(function(n){"image"===t&&r.setSingleImage(n.data,e.name),"images"===t&&r.setSingleImageFromList(n.data,e.name,i),"video"===t&&r.setSingleVideo(n.data,e.name)}).catch(function(e){"image"===t&&r.resetSingleImage(e),"images"===t&&r.resetSingleImageFromList(e,i.id),"video"===t&&r.resetSingleVideo(e)})}}},me="undefined"!=typeof navigator&&/msie [6-9]\\b/.test(navigator.userAgent.toLowerCase()),ge={},ve=function(e,t,i,r,n,o,a,s,d,l){"boolean"!=typeof a&&(d=s,s=a,a=!1);var u="function"==typeof i?i.options:i;e&&e.render&&(u.render=e.render,u.staticRenderFns=e.staticRenderFns,u._compiled=!0,n&&(u.functional=!0)),r&&(u._scopeId=r);var c;if(o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,d(e)),e&&e._registeredComponents&&e._registeredComponents.add(o)},u._ssrRegister=c):t&&(c=a?function(e){t.call(this,l(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,s(e))}),c)if(u.functional){var f=u.render;u.render=function(e,t){return c.call(t),f(e,t)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,c):[c]}return i}({render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"stg-uploader",class:e.computedContainerClass},["image"===e.type?i("div",[i("div",{ref:"dropAreaImage",staticClass:"drop-area",on:{click:function(t){return e.openUploadFileDialog(t,"image")}}},[i("input",{ref:"dropAreaImageInput",attrs:{type:"file"},on:{change:function(t){return e.handleUploadFile("image")}}}),e._v(" "),i("div",{staticClass:"file-list"},[i("div",{staticClass:"file-item"},[e.imageUploading?i("div",{staticClass:"preview loading"},[e._m(0)]):e._e(),e._v(" "),e.showSingleImagePreview?i("div",{staticClass:"preview"},[i("img",{attrs:{alt:e.storedImageName,src:e.storedImagePath}}),e._v(" "),i("div",{staticClass:"remove-item",on:{click:function(t){return t.preventDefault(),e.removeSingleFile("image")}}},[e._v("×")])]):e._e(),e._v(" "),e.imageUploading?i("div",{staticClass:"file-name"},[e._v("Wait...")]):e._e(),e._v(" "),e.showSingleImagePreview?i("div",{staticClass:"file-name"},[e._v(e._s(e.storedImageName))]):e._e()])])])]):e._e(),e._v(" "),"images"===e.type?i("div",[i("div",{ref:"dropAreaImages",staticClass:"drop-area",on:{click:function(t){return e.openUploadFileDialog(t,"images")}}},[i("input",{ref:"dropAreaImagesInput",attrs:{multiple:"",type:"file"},on:{change:function(t){return e.handleUploadMultipleFiles()}}}),e._v(" "),i("div",{staticClass:"file-list"},e._l(e.storedImages,function(t){return i("div",{key:"image-"+t.id,staticClass:"file-item"},[t.uploaded?e._e():i("div",{staticClass:"preview loading"},[e._m(1,!0)]),e._v(" "),t.uploaded?i("div",{staticClass:"preview"},[i("img",{attrs:{alt:t.name,src:t.path}}),e._v(" "),i("div",{staticClass:"remove-item",on:{click:function(i){return i.preventDefault(),e.removeImageFromList(t)}}},[e._v("×")])]):e._e(),e._v(" "),t.uploaded?e._e():i("div",{staticClass:"file-name"},[e._v("Wait...")]),e._v(" "),t.uploaded&&t.name?i("div",{staticClass:"file-name"},[e._v(e._s(t.name))]):e._e()])}),0)])]):e._e(),e._v(" "),"video"===e.type?i("div",[i("div",{ref:"dropAreaVideo",staticClass:"drop-area",on:{click:function(t){return e.openUploadFileDialog(t,"video")}}},[i("input",{ref:"dropAreaVideoInput",attrs:{type:"file"},on:{change:function(t){return e.handleUploadFile("video")}}}),e._v(" "),i("div",{staticClass:"file-list"},[i("div",{staticClass:"file-item"},[e.videoUploading?i("div",{staticClass:"preview loading"},[e._m(2)]):e._e(),e._v(" "),e.showSingleVideoPreview?i("div",{staticClass:"preview video"},[i("video",{attrs:{src:e.storedVideoPath,autoplay:"autoplay",loop:"loop",muted:"muted"},domProps:{muted:!0}}),e._v(" "),i("div",{staticClass:"remove-item",on:{click:function(t){return t.preventDefault(),e.removeSingleFile("image")}}},[e._v("×")])]):e._e(),e._v(" "),e.videoUploading?i("div",{staticClass:"file-name"},[e._v("Wait...")]):e._e(),e._v(" "),e.showSingleVideoPreview?i("div",{staticClass:"file-name"},[e._v(e._s(e.storedVideoName))]):e._e()])])])]):e._e(),e._v(" "),i("div",{staticClass:"uploader-action-text"},[e._v(e._s(e.computedActionText))])])},staticRenderFns:[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"loader"},[i("span",{staticClass:"loader-inner"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"loader"},[i("span",{staticClass:"loader-inner"})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",{staticClass:"loader"},[i("span",{staticClass:"loader-inner"})])}]},function(e){e&&e("data-v-63e2c072_0",{source:".stg-uploader{width:100%;border-radius:5px;border:2px dotted #e5e5e5;transition:.2s linear;color:#777;padding:15px;display:flex;flex-direction:column;box-sizing:border-box;background-color:#fff}.stg-uploader *{user-select:none}.stg-uploader:hover{background-color:#f6f6f6}.stg-uploader .drop-area{width:100%;min-height:150px}.stg-uploader .drop-area.highlight .file-list:before{content:'Drop here';position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(150,150,150,.9);font-size:32px;text-align:center;display:flex;align-items:center;justify-content:center;z-index:50;border:1px solid rgba(150,150,150,.7);border-radius:10px;box-sizing:border-box;padding:0;margin:0}.stg-uploader .drop-area input{visibility:hidden;display:none}.stg-uploader .drop-area .image-preview .img-container img{width:100%;height:100%;object-fit:cover;object-position:center center}.stg-uploader .uploader-action-text{text-align:center;color:#000}.stg-uploader .drop-area .file-list{display:flex;height:180px;width:100%;margin:0;padding:0 0 10px 0;overflow-x:auto;position:relative}.stg-uploader .drop-area .file-list .file-item{width:150px;min-width:150px;height:100%;margin-right:20px;display:flex;flex-direction:column;justify-content:space-between}.stg-uploader .drop-area .file-list .file-item:last-of-type{margin-right:0}.stg-uploader .drop-area .file-list .file-item .preview{background:rgba(0,0,0,.1);border-radius:5px;width:100%;height:150px;overflow:hidden;position:relative}.stg-uploader .drop-area .file-list .file-item .preview .remove-item{position:absolute;right:10px;top:10px;font-size:18px;width:16px;height:16px;cursor:pointer;line-height:13px;text-align:center;box-sizing:border-box}.stg-uploader .drop-area .file-list .file-item .preview img{width:100%;height:100%;object-fit:cover;object-position:center}.stg-uploader .drop-area .file-list .file-item .preview.video{display:flex}.stg-uploader .drop-area .file-list .file-item .preview.video video{width:100%;height:100%;margin:auto;object-fit:cover}.stg-uploader .drop-area .file-list .file-item .preview.loading{display:flex}.stg-uploader .drop-area .file-list .file-item .preview.loading .loader{display:inline-block;width:30px;height:30px;position:relative;border:4px solid #fff;animation:loader 2s infinite ease;margin:auto}.stg-uploader .drop-area .file-list .file-item .preview.loading .loader-inner{vertical-align:top;display:inline-block;width:100%;background-color:#fff;animation:loader-inner 2s infinite ease-in}@keyframes loader{0%{transform:rotate(0)}25%{transform:rotate(180deg)}50%{transform:rotate(180deg)}75%{transform:rotate(360deg)}100%{transform:rotate(360deg)}}@keyframes loader-inner{0%{height:0}25%{height:0}50%{height:100%}75%{height:100%}100%{height:0}}.stg-uploader .drop-area .file-list .file-item .file-name{height:20px;width:100%;text-align:center;text-overflow:ellipsis;white-space:nowrap;line-height:100%;overflow:hidden;padding:0 7px;box-sizing:border-box}",map:void 0,media:void 0})},he,void 0,!1,void 0,!1,k,void 0,void 0),ye={install:R},we=null;return"undefined"!=typeof window?we=window.Vue:"undefined"!=typeof global&&(we=global.vue),we&&we.use(ye),ve.install=R,e.default=ve,e}({});
